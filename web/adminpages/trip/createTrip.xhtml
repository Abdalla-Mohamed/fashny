<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <body>

        <ui:composition template="./../../templates/templateAdmin.xhtml">

            <ui:define name="contPageName">
                New Trip
            </ui:define>

            <ui:define name="contPageDescrp">

            </ui:define>

            <ui:define name="contPagePath">
                <a href="">Home</a> >
                <a href="./../../adminpages/trip/trips.xhtml">Show All Trips</a> >
                <a href="./../../adminpages/trip/createTrip.xhtml">Add Trip</a>
            </ui:define>

            <ui:define name="content">
                <br/><br/>
                <h:form>
                    <div class="container-fluid" >
                        <div class="col-sm-1"></div>
                        <div class="col-sm-8">
                            <h:panelGroup id="display">
                                <p:panelGrid columns="4" >

                                    <p:outputLabel value="#{bundle.CreateTripLabel_name}" for="name" />
                                    <p:inputText id="name" value="#{tripMB.selected.name}" title="#{bundle.CreateTripTitle_name}" required="true" requiredMessage="#{bundle.CreateTripRequiredMessage_name}"/>

                                    <p:outputLabel value="#{bundle.CreateTripLabel_companyId}"  for="companyId"/>
                                    <p:selectOneMenu id="companyId" value="#{tripMB.selected.companyId}" style="width:150px" converter="converterCompany" requiredMessage="#{bundle.CreateTripRequiredMessage_companyId}">
                                        <f:selectItems value="#{CompanyMB.items}" var="company"  itemLabel="#{company.name}" itemValue="#{company}"/>  
                                    </p:selectOneMenu>

                                    <p:outputLabel value="#{bundle.CreateTripLabel_date}" for="date" />
                                    <p:calendar id="date" value="#{tripMB.selected.date}" pattern="yyyy-MM-dd HH:mm:ss" title="#{bundle.CreateTripTitle_date}" required="true" requiredMessage="#{bundle.CreateTripRequiredMessage_date}"/>

                                    <p:outputLabel value="#{bundle.CreateTripLabel_joinDeadline}" for="joinDeadline" />
                                    <p:calendar id="joinDeadline" value="#{tripMB.selected.joinDeadline}" pattern="yyyy-MM-dd HH:mm:ss" title="#{bundle.CreateTripTitle_joinDeadline}" required="true" requiredMessage="#{bundle.CreateTripRequiredMessage_joinDeadline}"/>

                                    <p:outputLabel value="#{bundle.CreateTripLabel_countBooking}" for="countBooking" />
                                    <p:inputText id="countBooking" value="#{tripMB.selected.countBooking}" title="#{bundle.CreateTripTitle_countBooking}" 
                                                 required="true" requiredMessage="#{bundle.CreateTripRequiredMessage_countBooking}">
                                    <f:convertNumber maxFractionDigits="0" type="number" />
                                    </p:inputText>

                                    <p:outputLabel value="#{bundle.CreateTripLabel_maxbooking}" for="maxbooking" />
                                    <p:inputText id="maxbooking" value="#{tripMB.selected.maxbooking}" title="#{bundle.CreateTripTitle_maxbooking}" 
                                                 required="true" requiredMessage="#{bundle.CreateTripRequiredMessage_maxbooking}">
                                        <f:convertNumber maxFractionDigits="0" type="number" />
                                    </p:inputText>


                                    <p:outputLabel value="#{bundle.CreateTripLabel_hint}" for="hint" />
                                    <p:inputText id="hint" value="#{tripMB.selected.hint}" title="#{bundle.CreateTripTitle_hint}" />

                                    <p:outputLabel value="#{bundle.CreateTripLabel_needTools}" for="needTools" />
                                    <p:inputText id="needTools" value="#{tripMB.selected.needTools}" title="#{bundle.CreateTripTitle_needTools}" />

                                    <p:outputLabel value="#{bundle.CreateTripLabel_program}" for="program" />
                                    <p:inputTextarea id="program" value="#{tripMB.selected.program}" title="#{bundle.CreateTripTitle_program}" required="true" requiredMessage="#{bundle.CreateTripRequiredMessage_program}"/>

                                    <p:outputLabel value="#{bundle.CreateTripLabel_tag}" styleClass="col-xs-12" for="tag"/>
                                    <p:selectManyMenu id="tag" value="#{tripMB.selected.tagList}" tabindex="indx"  converter="tagConverter" filter="true" filterMatchMode="contains" showCheckbox="true" scrollHeight="45"  styleClass="col-xs-12">
                                        <f:selectItems value="#{tagBean.items}" var="tag"  itemLabel="       #{tag.name}" itemValue="#{tag}" />
                                    </p:selectManyMenu>

                                    <p:outputLabel value="#{bundle.CreateTripLabel_places}" styleClass="col-xs-12" for="place"/>
                                    <p:selectManyMenu id="place" value="#{tripMB.selected.placeList}" tabindex="indx"  converter="converterPlace" filter="true" filterMatchMode="contains" showCheckbox="true" scrollHeight="45"  styleClass="col-xs-12">
                                        <f:selectItems value="#{placeView_1.items}" var="place"  itemLabel="       #{place.name}" itemValue="#{place}" />
                                    </p:selectManyMenu>

                                    <p:outputLabel value="#{bundle.CreateTripLabel_cost}" for="cost" />
                                    <p:inputText id="cost" value="#{tripMB.selected.cost}" title="#{bundle.CreateTripTitle_cost}" 
                                                 required="true" requiredMessage="#{bundle.CreateTripRequiredMessage_cost}">
                                                 <f:convertNumber currencyCode="EGP" type="currency" />
                                    </p:inputText>               
                                    <p:outputLabel value="#{bundle.CreateTripLabel_validated}" for="validated" />
                                    <p:selectBooleanCheckbox id="validated" value="#{tripMB.selected.validated}" required="true" requiredMessage="#{bundle.EditPlaceRequiredMessage_validated}"/>

                                    <p:outputLabel value="#{bundle.CreateTripLabel_offer}" for="offer" />
                                    <p:selectBooleanCheckbox id="offer" value="#{tripMB.selected.offer}" />

                                    <p:commandButton actionListener="#{tripMB.save()}" value="#{bundle.Save}" />
                                    <p:commandButton value="#{bundle.Cancel}" action="#{tripMB.goToTrips}" immediate="true"/>
                                </p:panelGrid>

                            </h:panelGroup>
                        </div> 

                        <div class="col-sm-6">

                        </div>
                    </div>   
                </h:form>

            </ui:define>

            <ui:define name="rightHeader">
                rightHeader
            </ui:define>

            <!--            <ui:define name="">-->
        </ui:composition>

    </body>
</html>
