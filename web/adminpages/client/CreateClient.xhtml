<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <body>

        <ui:composition template="./../../templates/templateAdmin.xhtml">

            <ui:define name="heads">
                heads
            </ui:define>

            <ui:define name="contPageName">
                New Client
            </ui:define>

            <ui:define name="contPageDescrp">
                Create New Client
            </ui:define>

            <ui:define name="contPagePath">
                <a href="">Home</a> 
                <a href="./../../adminpages/client/adminClient.xhtml">Show All Clients</a> 
                <a href="./../../adminpages/client/CreateClient.xhtml">Add New Client</a>
            </ui:define>

            <ui:define name="content">
                <div  class="col-sm-12" align="center">
                    <h:form id="ClientCreateForm" enctype="multipart/form-data">
                        <div class="col-sm-2" align="center"></div>
                        <div class="table-responsive col-sm-8">    
                            <table class="table table-striped " align="center" >
                                <tbody>
                                    <tr>
                                        <td><p:outputLabel value="#{bundle.CreateClientLabel_name}" for="name" /></td>
                                        <td><p:inputText id="name" value="#{adminClient.selected.name}" title="#{bundle.CreateClientTitle_name}" required="true" requiredMessage="#{bundle.CreateClientRequiredMessage_name}">
                                                <f:validateLength minimum="3" />
                                            </p:inputText></td>
                                        <td><p:message for="name"/></td>
                                    </tr>
                                    <tr>

                                        <td><p:outputLabel value="#{bundle.CreateClientLabel_email}" for="email" /></td>
                                        <td><p:inputText id="email" value="#{adminClient.selected.email}" title="#{bundle.CreateClientTitle_email}" required="true" requiredMessage="#{bundle.CreateClientRequiredMessage_email}" validator="com.iti.fashny.validators.CustomeEmailValidator"> 
                                                <p:ajax update="emailmsg" event="blur"/>
                                            </p:inputText></td>
                                        <td><p:message for="email" id="emailmsg"/></td>
                                    </tr>
                                    <tr>
                                        <td><p:outputLabel value="#{bundle.CreateClientLabel_contactEmail}" for="contactEmail" /></td>
                                        <td><p:inputText id="contactEmail" value="#{adminClient.selected.contactEmail}" title="#{bundle.CreateClientTitle_contactEmail}" required="true" type="email">

                                        </p:inputText></td>
                                        <td><p:message for="contactEmail"/></td>
                                    </tr>
                                    <tr>
                                        <td><p:outputLabel value="#{bundle.CreateClientLabel_password}" for="password" /></td>
                                        <td><p:inputText id="password" value="#{adminClient.selected.password}" title="#{bundle.CreateClientTitle_password}" required="true" requiredMessage="#{bundle.CreateClientRequiredMessage_password}">
                                                <f:validateLength minimum="6" />
                                            </p:inputText></td>
                                        <td><p:message for="password"/></td>
                                    </tr>
                                                                    
                                     <tr>
                                                    <td>  <p:outputLabel  value="Governorate: " /></td>
                                                    <td>  <h:selectOneMenu id="country" value="#{addressMB.governorate}" style="width:150px" required="true" requiredMessage="select governrate">
                                                            <p:ajax listener="#{addressMB.onCountryChange()}" update="city" />
                                                            <p:ajax listener="#{adminClient.selected.setAddress(addressMB.governorate)}" />
                                                            <f:selectItem itemLabel="Select governorate" itemValue="" noSelectionOption="true" />
                                                            <f:selectItems value="#{addressMB.governorates}" />
                                                            </h:selectOneMenu></td>
                                                <tr>
                                                    <td>  <p:outputLabel  for="city" value="City: " /></td>
                                                    <td>  <h:selectOneMenu id="city" value="#{addressMB.city}" style="width:150px" required="true" requiredMessage="select city">
                                                                <p:ajax listener="#{adminClient.selected.setAddress(addressMB.address)}" />
                                                                <f:selectItem itemLabel="Select City" itemValue="" noSelectionOption="true" />
                                                                <f:selectItems value="#{addressMB.cities}" />
                                                            </h:selectOneMenu>   </td>
                                                </tr>            

                                                </tr>
                                    
                                    
                                    <tr>
                                        <td><p:outputLabel value="#{bundle.CreateClientLabel_birthDate}" for="birthDate" /></td>
                                        <td><p:calendar id="birthDate" pattern="MM/dd/yyyy" value="#{adminClient.selected.birthDate}" title="#{bundle.EditClientTitle_birthDate}" required="true" requiredMessage="#{bundle.EditClientRequiredMessage_birthDate}" showOn="button"/></td>
                                        <td><p:message for="birthDate"/></td>
                                    </tr>
                                    <tr>
                                        <td><p:outputLabel value="#{bundle.CreateClientLabel_gender}" for="gender" /></td>
                                        <td><h:selectOneMenu id="gender" value="#{adminClient.selected.gender}" title="#{bundle.CreateClientTitle_gender}" required="true" requiredMessage="#{bundle.CreateClientRequiredMessage_gender}">
                                                <f:selectItem itemLabel="Male" itemValue="0" />
                                                <f:selectItem itemLabel="Female" itemValue="1" />
                                            </h:selectOneMenu></td>
                                        <td><p:message for="gender"/></td>
                                    </tr>
                                    <tr>
                                        <td><h:outputLabel value="#{bundle.CreateClientLabel_maritalStatus}" for="maritalStatus" /></td>
                                        <td><h:selectOneMenu id="maritalStatus" value="#{adminClient.selected.maritalStatus}" title="#{bundle.CreateClientTitle_maritalStatus}" required="true" requiredMessage="#{bundle.CreateClientRequiredMessage_maritalStatus}">
                                                <f:selectItem itemLabel="Single" itemValue="0" />
                                                <f:selectItem itemLabel="Maried" itemValue="1" />
                                            </h:selectOneMenu></td>
                                        <td><p:message for="maritalStatus"/></td>
                                    </tr>
                                    <tr>
                                        <td><p:outputLabel value="#{bundle.CreateClientLabel_mobile1}" for="mobile1" /></td>
                                        <td><p:inputText id="mobile1" value="#{adminClient.selected.mobile1}" title="#{bundle.CreateClientTitle_mobile1}" required="true" requiredMessage="#{bundle.CreateClientRequiredMessage_mobile1}">
                                                <f:validateLength minimum="11" maximum="11"/>
                                            </p:inputText></td>
                                        <td><p:message for="mobile1"/></td>
                                    </tr>
                                    <tr>
                                        <td><p:outputLabel value="#{bundle.CreateClientLabel_mobile2}" for="mobile2" /></td>
                                        <td><p:inputMask id="mobile2" value="#{adminClient.selected.mobile2}" title="#{bundle.CreateClientTitle_mobile2}" mask="(9999)9999999" />
                                                
                                           </td>
                                        <td><p:message for="mobile2"/></td>
                                    </tr>
                                    <tr>
                                        <td><p:outputLabel value="#{bundle.CreateClientLabel_phone}" for="phone" /></td>
                                        <td><p:inputText id="phone" value="#{adminClient.selected.phone}" title="#{bundle.CreateClientTitle_phone}" >
                                                <f:validateLength minimum="7"/>
                                            </p:inputText></td>
                                        <td><p:message for="phone"/></td>
                                    </tr>
                                    <tr>
                                        <td><p:outputLabel value="#{bundle.CreateClientLabel_active}" for="active" /></td>
                                        <td><p:selectBooleanCheckbox id="active" value="#{adminClient.selected.active}" /></td>
                                        <td><p:message for="active"/></td>

                                    </tr>
                                    
                                    <tr>
                                        <td align="center"><p:commandButton action="#{adminClient.create}" value="#{bundle.Save}" id="create" /></td>
                                        <td></td>
                                        <td align="center"><p:commandButton id="cancel" action="adminClient" value="#{bundle.Cancel}" immediate="true"/></td>

                                    </tr>
                                </tbody>
                            </table>


                            <p:blockUI block="bobo" trigger="cancel create">
                                LOADING<br />
                                <p:graphicImage name="/processing-bar.gif"/>
                            </p:blockUI>
                        </div>
                    </h:form>
                </div>
            </ui:define>

            <ui:define name="rightHeader">
                rightHeader
            </ui:define>

        </ui:composition>


    </body>
</html>
